"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ai/symptom-map/route";
exports.ids = ["app/api/ai/symptom-map/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fsymptom-map%2Froute&page=%2Fapi%2Fai%2Fsymptom-map%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fsymptom-map%2Froute.ts&appDir=%2FUsers%2Fharshilsharma%2Fphr%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharshilsharma%2Fphr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fsymptom-map%2Froute&page=%2Fapi%2Fai%2Fsymptom-map%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fsymptom-map%2Froute.ts&appDir=%2FUsers%2Fharshilsharma%2Fphr%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharshilsharma%2Fphr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_harshilsharma_phr_app_api_ai_symptom_map_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/ai/symptom-map/route.ts */ \"(rsc)/./app/api/ai/symptom-map/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ai/symptom-map/route\",\n        pathname: \"/api/ai/symptom-map\",\n        filename: \"route\",\n        bundlePath: \"app/api/ai/symptom-map/route\"\n    },\n    resolvedPagePath: \"/Users/harshilsharma/phr/app/api/ai/symptom-map/route.ts\",\n    nextConfigOutput,\n    userland: _Users_harshilsharma_phr_app_api_ai_symptom_map_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/ai/symptom-map/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhaSUyRnN5bXB0b20tbWFwJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhaSUyRnN5bXB0b20tbWFwJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWklMkZzeW1wdG9tLW1hcCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmhhcnNoaWxzaGFybWElMkZwaHIlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGaGFyc2hpbHNoYXJtYSUyRnBociZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDUTtBQUNyRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aHZhdWx0Lz9hZjIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9oYXJzaGlsc2hhcm1hL3Boci9hcHAvYXBpL2FpL3N5bXB0b20tbWFwL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9haS9zeW1wdG9tLW1hcC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FpL3N5bXB0b20tbWFwXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9haS9zeW1wdG9tLW1hcC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9oYXJzaGlsc2hhcm1hL3Boci9hcHAvYXBpL2FpL3N5bXB0b20tbWFwL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9haS9zeW1wdG9tLW1hcC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fsymptom-map%2Froute&page=%2Fapi%2Fai%2Fsymptom-map%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fsymptom-map%2Froute.ts&appDir=%2FUsers%2Fharshilsharma%2Fphr%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharshilsharma%2Fphr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/ai/symptom-map/route.ts":
/*!*****************************************!*\
  !*** ./app/api/ai/symptom-map/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\n\nasync function POST(req) {\n    try {\n        const { symptoms, language = \"en\" } = await req.json();\n        if (!symptoms) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Symptoms are required\"\n            }, {\n                status: 400\n            });\n        }\n        const genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_1__.GoogleGenerativeAI(process.env.GOOGLE_API_KEY);\n        const prompt = `\n        Analyze the following symptoms and identify the affected human body parts.\n        Symptoms: \"${symptoms}\"\n\n        Return a JSON object with:\n        1. \"affected_parts\": Array of strings from this specific list: \n           [\"head\", \"neck\", \"chest\", \"stomach\", \"left_arm\", \"right_arm\", \"left_leg\", \"right_leg\", \"lungs\", \"heart\", \"liver\", \"kidneys\", \"intestines\", \"brain\"].\n           Map the symptoms to the most relevant parts. If a symptom is general (e.g., \"fever\"), map to \"head\" or \"body\" if applicable, but prefer specific organs/parts.\n        2. \"description\": A short explanation of why these parts are highlighted (in ${language}).\n        3. \"severity\": \"Low\", \"Medium\", or \"High\" based on the symptoms.\n\n        Example output:\n        {\n            \"affected_parts\": [\"lungs\", \"chest\"],\n            \"description\": \"Cough and chest pain suggest respiratory issues affecting the lungs.\",\n            \"severity\": \"Medium\"\n        }\n        \n        Return ONLY valid JSON.\n        `;\n        let text = \"\";\n        const models = [\n            \"gemini-2.5-flash-lite-preview-09-2025\",\n            \"gemini-2.0-flash-exp\",\n            \"gemini-1.5-flash\",\n            \"gemini-1.5-flash-001\",\n            \"gemini-1.5-pro\",\n            \"gemini-pro\"\n        ];\n        let modelSuccess = false;\n        for (const modelName of models){\n            try {\n                const model = genAI.getGenerativeModel({\n                    model: modelName\n                });\n                const result = await model.generateContent(prompt);\n                const response = await result.response;\n                text = response.text();\n                modelSuccess = true;\n                break; // Exit loop on success\n            } catch (error) {\n                console.warn(`Model ${modelName} failed:`, error);\n            // Continue to next model\n            }\n        }\n        if (!modelSuccess) {\n            console.error(\"All AI models failed, using local fallback.\");\n            // Local Fallback based on keywords\n            const lowerSymptoms = symptoms.toLowerCase();\n            const fallbackResponse = {\n                affected_parts: [],\n                description: \"AI service is currently busy. Showing estimated affected areas based on keywords.\",\n                severity: \"Low\"\n            };\n            if (lowerSymptoms.includes(\"chest\") || lowerSymptoms.includes(\"heart\") || lowerSymptoms.includes(\"breath\")) {\n                fallbackResponse.affected_parts.push(\"chest\", \"heart\", \"lungs\");\n                fallbackResponse.severity = \"High\";\n            }\n            if (lowerSymptoms.includes(\"head\") || lowerSymptoms.includes(\"dizzy\") || lowerSymptoms.includes(\"migraine\")) {\n                fallbackResponse.affected_parts.push(\"head\", \"brain\");\n                fallbackResponse.severity = \"Medium\";\n            }\n            if (lowerSymptoms.includes(\"stomach\") || lowerSymptoms.includes(\"belly\") || lowerSymptoms.includes(\"digest\") || lowerSymptoms.includes(\"pain\")) {\n                fallbackResponse.affected_parts.push(\"stomach\", \"intestines\");\n                fallbackResponse.severity = \"Medium\";\n            }\n            if (lowerSymptoms.includes(\"arm\")) fallbackResponse.affected_parts.push(\"left_arm\", \"right_arm\");\n            if (lowerSymptoms.includes(\"leg\")) fallbackResponse.affected_parts.push(\"left_leg\", \"right_leg\");\n            // Default if nothing matches\n            if (fallbackResponse.affected_parts.length === 0) {\n                fallbackResponse.affected_parts.push(\"chest\");\n                fallbackResponse.description = \"Could not identify specific areas. Highlighting general torso.\";\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(fallbackResponse);\n        }\n        // Clean markdown\n        const jsonString = text.replace(/```json|```/g, \"\").trim();\n        const data = JSON.parse(jsonString);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data);\n    } catch (error) {\n        console.error(\"AI Symptom Map Error:\", error);\n        // Final safety net\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            affected_parts: [\n                \"chest\"\n            ],\n            description: \"An unexpected error occurred. Defaulting to chest view.\",\n            severity: \"Low\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUEsaUJBQWlCO1FBQ2pCLE1BQU1PLGFBQWFwQixLQUFLcUIsT0FBTyxDQUFDLGdCQUFnQixJQUFJQyxJQUFJO1FBQ3hELE1BQU1DLE9BQU9DLEtBQUtDLEtBQUssQ0FBQ0w7UUFFeEIsT0FBT2xDLHFEQUFZQSxDQUFDTSxJQUFJLENBQUMrQjtJQUM3QixFQUFFLE9BQU85QixPQUFZO1FBQ2pCZ0IsUUFBUWhCLEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLG1CQUFtQjtRQUNuQixPQUFPUCxxREFBWUEsQ0FBQ00sSUFBSSxDQUFDO1lBQ3JCc0IsZ0JBQWdCO2dCQUFDO2FBQVE7WUFDekJDLGFBQWE7WUFDYkMsVUFBVTtRQUNkO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aHZhdWx0Ly4vYXBwL2FwaS9haS9zeW1wdG9tLW1hcC9yb3V0ZS50cz8yYjdjIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJIH0gZnJvbSBcIkBnb29nbGUvZ2VuZXJhdGl2ZS1haVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBzeW1wdG9tcywgbGFuZ3VhZ2UgPSBcImVuXCIgfSA9IGF3YWl0IHJlcS5qc29uKCk7XG5cbiAgICAgICAgaWYgKCFzeW1wdG9tcykge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiU3ltcHRvbXMgYXJlIHJlcXVpcmVkXCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdlbkFJID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShwcm9jZXNzLmVudi5HT09HTEVfQVBJX0tFWSEpO1xuXG4gICAgICAgIGNvbnN0IHByb21wdCA9IGBcbiAgICAgICAgQW5hbHl6ZSB0aGUgZm9sbG93aW5nIHN5bXB0b21zIGFuZCBpZGVudGlmeSB0aGUgYWZmZWN0ZWQgaHVtYW4gYm9keSBwYXJ0cy5cbiAgICAgICAgU3ltcHRvbXM6IFwiJHtzeW1wdG9tc31cIlxuXG4gICAgICAgIFJldHVybiBhIEpTT04gb2JqZWN0IHdpdGg6XG4gICAgICAgIDEuIFwiYWZmZWN0ZWRfcGFydHNcIjogQXJyYXkgb2Ygc3RyaW5ncyBmcm9tIHRoaXMgc3BlY2lmaWMgbGlzdDogXG4gICAgICAgICAgIFtcImhlYWRcIiwgXCJuZWNrXCIsIFwiY2hlc3RcIiwgXCJzdG9tYWNoXCIsIFwibGVmdF9hcm1cIiwgXCJyaWdodF9hcm1cIiwgXCJsZWZ0X2xlZ1wiLCBcInJpZ2h0X2xlZ1wiLCBcImx1bmdzXCIsIFwiaGVhcnRcIiwgXCJsaXZlclwiLCBcImtpZG5leXNcIiwgXCJpbnRlc3RpbmVzXCIsIFwiYnJhaW5cIl0uXG4gICAgICAgICAgIE1hcCB0aGUgc3ltcHRvbXMgdG8gdGhlIG1vc3QgcmVsZXZhbnQgcGFydHMuIElmIGEgc3ltcHRvbSBpcyBnZW5lcmFsIChlLmcuLCBcImZldmVyXCIpLCBtYXAgdG8gXCJoZWFkXCIgb3IgXCJib2R5XCIgaWYgYXBwbGljYWJsZSwgYnV0IHByZWZlciBzcGVjaWZpYyBvcmdhbnMvcGFydHMuXG4gICAgICAgIDIuIFwiZGVzY3JpcHRpb25cIjogQSBzaG9ydCBleHBsYW5hdGlvbiBvZiB3aHkgdGhlc2UgcGFydHMgYXJlIGhpZ2hsaWdodGVkIChpbiAke2xhbmd1YWdlfSkuXG4gICAgICAgIDMuIFwic2V2ZXJpdHlcIjogXCJMb3dcIiwgXCJNZWRpdW1cIiwgb3IgXCJIaWdoXCIgYmFzZWQgb24gdGhlIHN5bXB0b21zLlxuXG4gICAgICAgIEV4YW1wbGUgb3V0cHV0OlxuICAgICAgICB7XG4gICAgICAgICAgICBcImFmZmVjdGVkX3BhcnRzXCI6IFtcImx1bmdzXCIsIFwiY2hlc3RcIl0sXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ291Z2ggYW5kIGNoZXN0IHBhaW4gc3VnZ2VzdCByZXNwaXJhdG9yeSBpc3N1ZXMgYWZmZWN0aW5nIHRoZSBsdW5ncy5cIixcbiAgICAgICAgICAgIFwic2V2ZXJpdHlcIjogXCJNZWRpdW1cIlxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBSZXR1cm4gT05MWSB2YWxpZCBKU09OLlxuICAgICAgICBgO1xuXG4gICAgICAgIGxldCB0ZXh0ID0gXCJcIjtcbiAgICAgICAgY29uc3QgbW9kZWxzID0gW1wiZ2VtaW5pLTIuNS1mbGFzaC1saXRlLXByZXZpZXctMDktMjAyNVwiLCBcImdlbWluaS0yLjAtZmxhc2gtZXhwXCIsIFwiZ2VtaW5pLTEuNS1mbGFzaFwiLCBcImdlbWluaS0xLjUtZmxhc2gtMDAxXCIsIFwiZ2VtaW5pLTEuNS1wcm9cIiwgXCJnZW1pbmktcHJvXCJdO1xuICAgICAgICBsZXQgbW9kZWxTdWNjZXNzID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChjb25zdCBtb2RlbE5hbWUgb2YgbW9kZWxzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IG1vZGVsTmFtZSB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQocHJvbXB0KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3VsdC5yZXNwb25zZTtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgICAgIG1vZGVsU3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIEV4aXQgbG9vcCBvbiBzdWNjZXNzXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTW9kZWwgJHttb2RlbE5hbWV9IGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgLy8gQ29udGludWUgdG8gbmV4dCBtb2RlbFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFtb2RlbFN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBbGwgQUkgbW9kZWxzIGZhaWxlZCwgdXNpbmcgbG9jYWwgZmFsbGJhY2suXCIpO1xuICAgICAgICAgICAgLy8gTG9jYWwgRmFsbGJhY2sgYmFzZWQgb24ga2V5d29yZHNcbiAgICAgICAgICAgIGNvbnN0IGxvd2VyU3ltcHRvbXMgPSBzeW1wdG9tcy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBhZmZlY3RlZF9wYXJ0czogW10gYXMgc3RyaW5nW10sXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQUkgc2VydmljZSBpcyBjdXJyZW50bHkgYnVzeS4gU2hvd2luZyBlc3RpbWF0ZWQgYWZmZWN0ZWQgYXJlYXMgYmFzZWQgb24ga2V5d29yZHMuXCIsXG4gICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFwiTG93XCJcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChsb3dlclN5bXB0b21zLmluY2x1ZGVzKFwiY2hlc3RcIikgfHwgbG93ZXJTeW1wdG9tcy5pbmNsdWRlcyhcImhlYXJ0XCIpIHx8IGxvd2VyU3ltcHRvbXMuaW5jbHVkZXMoXCJicmVhdGhcIikpIHtcbiAgICAgICAgICAgICAgICBmYWxsYmFja1Jlc3BvbnNlLmFmZmVjdGVkX3BhcnRzLnB1c2goXCJjaGVzdFwiLCBcImhlYXJ0XCIsIFwibHVuZ3NcIik7XG4gICAgICAgICAgICAgICAgZmFsbGJhY2tSZXNwb25zZS5zZXZlcml0eSA9IFwiSGlnaFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvd2VyU3ltcHRvbXMuaW5jbHVkZXMoXCJoZWFkXCIpIHx8IGxvd2VyU3ltcHRvbXMuaW5jbHVkZXMoXCJkaXp6eVwiKSB8fCBsb3dlclN5bXB0b21zLmluY2x1ZGVzKFwibWlncmFpbmVcIikpIHtcbiAgICAgICAgICAgICAgICBmYWxsYmFja1Jlc3BvbnNlLmFmZmVjdGVkX3BhcnRzLnB1c2goXCJoZWFkXCIsIFwiYnJhaW5cIik7XG4gICAgICAgICAgICAgICAgZmFsbGJhY2tSZXNwb25zZS5zZXZlcml0eSA9IFwiTWVkaXVtXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG93ZXJTeW1wdG9tcy5pbmNsdWRlcyhcInN0b21hY2hcIikgfHwgbG93ZXJTeW1wdG9tcy5pbmNsdWRlcyhcImJlbGx5XCIpIHx8IGxvd2VyU3ltcHRvbXMuaW5jbHVkZXMoXCJkaWdlc3RcIikgfHwgbG93ZXJTeW1wdG9tcy5pbmNsdWRlcyhcInBhaW5cIikpIHtcbiAgICAgICAgICAgICAgICBmYWxsYmFja1Jlc3BvbnNlLmFmZmVjdGVkX3BhcnRzLnB1c2goXCJzdG9tYWNoXCIsIFwiaW50ZXN0aW5lc1wiKTtcbiAgICAgICAgICAgICAgICBmYWxsYmFja1Jlc3BvbnNlLnNldmVyaXR5ID0gXCJNZWRpdW1cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb3dlclN5bXB0b21zLmluY2x1ZGVzKFwiYXJtXCIpKSBmYWxsYmFja1Jlc3BvbnNlLmFmZmVjdGVkX3BhcnRzLnB1c2goXCJsZWZ0X2FybVwiLCBcInJpZ2h0X2FybVwiKTtcbiAgICAgICAgICAgIGlmIChsb3dlclN5bXB0b21zLmluY2x1ZGVzKFwibGVnXCIpKSBmYWxsYmFja1Jlc3BvbnNlLmFmZmVjdGVkX3BhcnRzLnB1c2goXCJsZWZ0X2xlZ1wiLCBcInJpZ2h0X2xlZ1wiKTtcblxuICAgICAgICAgICAgLy8gRGVmYXVsdCBpZiBub3RoaW5nIG1hdGNoZXNcbiAgICAgICAgICAgIGlmIChmYWxsYmFja1Jlc3BvbnNlLmFmZmVjdGVkX3BhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGZhbGxiYWNrUmVzcG9uc2UuYWZmZWN0ZWRfcGFydHMucHVzaChcImNoZXN0XCIpO1xuICAgICAgICAgICAgICAgIGZhbGxiYWNrUmVzcG9uc2UuZGVzY3JpcHRpb24gPSBcIkNvdWxkIG5vdCBpZGVudGlmeSBzcGVjaWZpYyBhcmVhcy4gSGlnaGxpZ2h0aW5nIGdlbmVyYWwgdG9yc28uXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihmYWxsYmFja1Jlc3BvbnNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsZWFuIG1hcmtkb3duXG4gICAgICAgIGNvbnN0IGpzb25TdHJpbmcgPSB0ZXh0LnJlcGxhY2UoL2BgYGpzb258YGBgL2csIFwiXCIpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoanNvblN0cmluZyk7XG5cbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFJIFN5bXB0b20gTWFwIEVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgIC8vIEZpbmFsIHNhZmV0eSBuZXRcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIGFmZmVjdGVkX3BhcnRzOiBbXCJjaGVzdFwiXSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQuIERlZmF1bHRpbmcgdG8gY2hlc3Qgdmlldy5cIixcbiAgICAgICAgICAgIHNldmVyaXR5OiBcIkxvd1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJHb29nbGVHZW5lcmF0aXZlQUkiLCJQT1NUIiwicmVxIiwic3ltcHRvbXMiLCJsYW5ndWFnZSIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImdlbkFJIiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9BUElfS0VZIiwicHJvbXB0IiwidGV4dCIsIm1vZGVscyIsIm1vZGVsU3VjY2VzcyIsIm1vZGVsTmFtZSIsIm1vZGVsIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwicmVzdWx0IiwiZ2VuZXJhdGVDb250ZW50IiwicmVzcG9uc2UiLCJjb25zb2xlIiwid2FybiIsImxvd2VyU3ltcHRvbXMiLCJ0b0xvd2VyQ2FzZSIsImZhbGxiYWNrUmVzcG9uc2UiLCJhZmZlY3RlZF9wYXJ0cyIsImRlc2NyaXB0aW9uIiwic2V2ZXJpdHkiLCJpbmNsdWRlcyIsInB1c2giLCJsZW5ndGgiLCJqc29uU3RyaW5nIiwicmVwbGFjZSIsInRyaW0iLCJkYXRhIiwiSlNPTiIsInBhcnNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/ai/symptom-map/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fsymptom-map%2Froute&page=%2Fapi%2Fai%2Fsymptom-map%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fsymptom-map%2Froute.ts&appDir=%2FUsers%2Fharshilsharma%2Fphr%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharshilsharma%2Fphr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();